{"version":3,"file":"js/529.eec25491.js","mappings":"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","sources":["webpack://toutiao-m/./src/views/article/article.vue","webpack://toutiao-m/./src/components/follow-user.vue","webpack://toutiao-m/src/components/follow-user.vue","webpack://toutiao-m/./src/components/follow-user.vue?247f","webpack://toutiao-m/./src/components/follow-user.vue?3551","webpack://toutiao-m/./src/components/collect-artricle.vue","webpack://toutiao-m/src/components/collect-artricle.vue","webpack://toutiao-m/./src/components/collect-artricle.vue?29c0","webpack://toutiao-m/./src/components/collect-artricle.vue?60a0","webpack://toutiao-m/./src/components/like-article.vue","webpack://toutiao-m/src/components/like-article.vue","webpack://toutiao-m/./src/components/like-article.vue?6d3b","webpack://toutiao-m/./src/components/like-article.vue?cfd7","webpack://toutiao-m/./src/views/article/components/comment-list.vue","webpack://toutiao-m/./src/views/article/components/comment-item.vue","webpack://toutiao-m/src/views/article/components/comment-item.vue","webpack://toutiao-m/./src/views/article/components/comment-item.vue?10ac","webpack://toutiao-m/./src/views/article/components/comment-item.vue?bb63","webpack://toutiao-m/src/views/article/components/comment-list.vue","webpack://toutiao-m/./src/views/article/components/comment-list.vue?08d9","webpack://toutiao-m/./src/views/article/components/comment-list.vue?b723","webpack://toutiao-m/./src/views/article/components/comment-post.vue","webpack://toutiao-m/src/views/article/components/comment-post.vue","webpack://toutiao-m/./src/views/article/components/comment-post.vue?1499","webpack://toutiao-m/./src/views/article/components/comment-post.vue?9c9e","webpack://toutiao-m/./src/views/article/components/comment-reply.vue","webpack://toutiao-m/src/views/article/components/comment-reply.vue","webpack://toutiao-m/./src/views/article/components/comment-reply.vue?c455","webpack://toutiao-m/./src/views/article/components/comment-reply.vue?b9b7","webpack://toutiao-m/src/views/article/article.vue","webpack://toutiao-m/./src/views/article/article.vue?4e28","webpack://toutiao-m/./src/views/article/article.vue?a159"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"黑马头条\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"main-wrap\"},[(_vm.loading)?_c('div',{staticClass:\"loading-wrap\"},[_c('van-loading',{attrs:{\"color\":\"#1989fa\",\"vertical\":\"\"}},[_vm._v(\"加载中...\")])],1):(_vm.article.title)?_c('div',{staticClass:\"article-detail\"},[_c('h1',{staticClass:\"article-title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('van-cell',{staticClass:\"user-info\",scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('van-image',{staticClass:\"avatar\",attrs:{\"round\":\"\",\"fit\":\"cover\",\"src\":_vm.article.aut_photo}})]},proxy:true},{key:\"title\",fn:function(){return [_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.article.aut_name))])]},proxy:true},{key:\"label\",fn:function(){return [_c('div',{staticClass:\"publish-date\"},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.article.pubdata)))])]},proxy:true},{key:\"right-icon\",fn:function(){return [_c('FollowUse',{attrs:{\"userId\":_vm.article.aut_id},model:{value:(_vm.article.is_followed),callback:function ($$v) {_vm.$set(_vm.article, \"is_followed\", $$v)},expression:\"article.is_followed\"}})]},proxy:true}])}),_c('div',{ref:\"article-content\",staticClass:\"article-content markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.article.content)}}),_c('van-divider',[_vm._v(\"正文结束\")]),_c('CommentList',{ref:\"comment-list\",attrs:{\"targetId\":_vm.articleId,\"totalCount\":_vm.totalCommentCount},on:{\"update:totalCount\":function($event){_vm.totalCommentCount=$event},\"update:total-count\":function($event){_vm.totalCommentCount=$event},\"reply-click\":_vm.onReplyClick}})],1):(_vm.errStatus===404)?_c('div',{staticClass:\"error-wrap\"},[_c('van-icon',{attrs:{\"name\":\"failure\"}}),_c('p',{staticClass:\"text\"},[_vm._v(\"该资源不存在或已被删除!\")])],1):_c('div',{staticClass:\"error-wrap\"},[_c('van-icon',{attrs:{\"name\":\"failure\"}}),_c('p',{staticClass:\"text\"},[_vm._v(\"内容加载失败\")]),_c('van-button',{staticClass:\"retry-btn\"},[_vm._v(\"点击重试\")])],1)]),_c('div',{staticClass:\"article-bottom\"},[_c('van-button',{staticClass:\"comment-btn\",attrs:{\"round\":\"\",\"size\":\"small\",\"icon\":\"plus\"},on:{\"click\":function($event){_vm.isPostShow=true}}},[_vm._v(\"写评论\")]),_c('van-icon',{attrs:{\"name\":\"comment-o\",\"badge\":_vm.totalCommentCount}}),_c('collectArtricle',{attrs:{\"articleId\":_vm.article.art_id,\"collect\":_vm.article.is_collected},on:{\"update:collect\":function($event){return _vm.$set(_vm.article, \"is_collected\", $event)}}}),_c('LikeArtricle',{attrs:{\"articleId\":_vm.article.art_id},model:{value:(_vm.article.attitude),callback:function ($$v) {_vm.$set(_vm.article, \"attitude\", $$v)},expression:\"article.attitude\"}}),_c('van-icon',{attrs:{\"name\":\"share\"}})],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.isPostShow),callback:function ($$v) {_vm.isPostShow=$$v},expression:\"isPostShow\"}},[_c('CommentPost',{attrs:{\"targetId\":_vm.article.aut_id},on:{\"post-success\":_vm.onPostSuccess}})],1),_c('van-popup',{style:({ height: '100%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.isReplyShow),callback:function ($$v) {_vm.isReplyShow=$$v},expression:\"isReplyShow\"}},[(_vm.isReplyShow)?_c('CommentReply',{attrs:{\"comment\":_vm.currentComment},on:{\"close\":function($event){_vm.isReplyShow = false}}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.isFollowed)?_c('van-button',{staticClass:\"follow-btn\",attrs:{\"round\":\"\",\"type\":\"info\",\"size\":\"small\",\"icon\":\"plus\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.onFollow}},[_vm._v(\"关注\")]):_c('van-button',{staticClass:\"follow-btn\",attrs:{\"round\":\"\",\"size\":\"small\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.onFollow}},[_vm._v(\"已关注\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <!-- 取关，关注用户 -->\r\n<!-- 通过loading属性,对按钮进行节流操作 -->\r\n<!-- 组件的根节点只能有一个，但是因为v-if和v-else存在，所以下面的逻辑不会同时出现 -->\r\n   <van-button class=\"follow-btn\" round type=\"info\"\r\n   size=\"small\" icon=\"plus\" v-if=\"!isFollowed\"\r\n   @click=\"onFollow\" :loading=\"btnLoading\"\r\n  >关注</van-button>\r\n  <van-button class=\"follow-btn\" round size=\"small\"\r\n    v-else @click=\"onFollow\" :loading=\"btnLoading\">已关注</van-button>\r\n</template>\r\n\r\n<script>\r\nimport { addFollowAPI, deleteFollowAPI } from '..//api/index.js'\r\nexport default {\r\n  name: 'FollowUser',\r\n  model: {\r\n    prop: 'isFollowed', // 默认为value（方法2）\r\n    event: 'update-follow' // 默认为input（方法2）\r\n  },\r\n  props: {\r\n    isFollowed: { // article.is_followed\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    userId: { // article.aut_id\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      btnLoading: false // 调用接口时的加载状态\r\n    }\r\n  },\r\n  methods: {\r\n    // 取关，关注用户\r\n    async onFollow () {\r\n      this.btnLoading = true // 请求接口前开启\r\n      try {\r\n        // 通过当前的用户关注状态来判断调用那个接口\r\n        if (this.isFollowed) {\r\n          await deleteFollowAPI(this.userId)\r\n        } else {\r\n          await addFollowAPI(this.userId)\r\n        }\r\n        // 主动的将状态取反\r\n        // this.$emit('update:isFollowed', !this.isFollowed) //方法3写法\r\n        this.$emit('update-follow', !this.isFollowed) // 方法2写法\r\n      } catch (error) {\r\n        if (error.response && error.response.status === 400) {\r\n          this.$toast('你不能关注你自己')\r\n        } else {\r\n          this.$toast('操作失败，请重试')\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        this.btnLoading = false // 请求执行后关闭\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./follow-user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./follow-user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./follow-user.vue?vue&type=template&id=2d9d1a27&scoped=true&\"\nimport script from \"./follow-user.vue?vue&type=script&lang=js&\"\nexport * from \"./follow-user.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d9d1a27\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-icon',{class:{collected:_vm.collect},attrs:{\"name\":_vm.collect ? 'star' : 'star-o',\"loading\":_vm.btnLoading},on:{\"click\":_vm.onCollect}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- 收藏，取消收藏 -->\r\n  <div>\r\n     <van-icon :name=\"collect ? 'star' : 'star-o'\" :class=\"{collected:collect}\"\r\n :loading=\"btnLoading\" @click=\"onCollect\"></van-icon>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addCollectAPI, deleteCollectAPI } from '../api/index.js'\r\nexport default {\r\n  name: 'CollectArticle',\r\n  props: {\r\n    // 方法2默认的变量写法\r\n    /* value: { // article.is_followed\r\n      type: Boolean,\r\n      default: true\r\n    }, */\r\n    // 方法3\r\n    collect: { // 方法3需要将value变为collect\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    articleId: { // article.aut_id\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      btnLoading: false // 调用接口时的加载状态\r\n    }\r\n  },\r\n  methods: {\r\n    // 收藏，取消收藏\r\n    async onCollect () {\r\n      this.btnLoading = true // 请求接口前开启\r\n      try {\r\n        // 通过当前的用户关注状态来判断调用那个接口\r\n        if (this.collect) {\r\n          await deleteCollectAPI(this.articleId)\r\n        } else {\r\n          await addCollectAPI(this.articleId)\r\n        }\r\n        // 主动的将状态取反\r\n        // this.$emit('input', !this.collect) // 方法2默认的事件写法\r\n        this.$emit('update:collect', !this.collect) // 方法3\r\n      } catch (error) {\r\n        if (error.response && error.response.status === 400) {\r\n          this.$toast('你不能关注你自己')\r\n        } else {\r\n          this.$toast('操作失败，请重试')\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        this.btnLoading = false // 请求执行后关闭\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.collected{\r\n  color:#fa5000\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./collect-artricle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./collect-artricle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./collect-artricle.vue?vue&type=template&id=0fb95ba0&scoped=true&\"\nimport script from \"./collect-artricle.vue?vue&type=script&lang=js&\"\nexport * from \"./collect-artricle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./collect-artricle.vue?vue&type=style&index=0&id=0fb95ba0&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fb95ba0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-icon',{class:{collected:_vm.attitude === 1},attrs:{\"name\":_vm.attitude === 1 ? 'good-job' : 'good-job-o',\"loading\":_vm.btnLoading},on:{\"click\":_vm.onCollect}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- 点赞界面 -->\r\n<div>\r\n   <van-icon :name=\"attitude === 1 ? 'good-job' : 'good-job-o'\"\r\n :class=\"{collected:attitude === 1}\"\r\n :loading=\"btnLoading\" @click=\"onCollect\"></van-icon>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { deleteLickAPI, addLickAPI } from '../api/index.js'\r\nexport default {\r\n  name: 'LikeArtricle',\r\n  model: {\r\n    prop: 'attitude', // 方法2修改默认变量\r\n    event: 'attitude' // 方法2修改默认事件\r\n  },\r\n  props: {\r\n    attitude: { // article.is_followed\r\n      type: Number,\r\n      default: -1\r\n    },\r\n    articleId: { // article.aut_id\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  inject: { // 此处传递过来的使用的是provide方法进行传递的\r\n    articleIdPro: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  mounted () { // 此处只是测试一下是否能够接收\r\n    console.log(this.articleIdPro)\r\n  },\r\n  data () {\r\n    return {\r\n      btnLoading: false // 调用接口时的加载状态\r\n    }\r\n  },\r\n  methods: {\r\n    // 点赞取消点赞\r\n    async onCollect () {\r\n      this.btnLoading = true // 请求接口前开启\r\n      let status = this.attitude // 当前点赞状态\r\n      try {\r\n        // 通过当前的用户关注状态来判断调用那个接口\r\n        if (this.attitude === 1) {\r\n          status = -1\r\n          await deleteLickAPI(this.articleId)\r\n        } else {\r\n          status = 1\r\n          await addLickAPI(this.articleId)\r\n        }\r\n        // 主动的将状态取反\r\n        // 'update:attitude'固定的不能加空格什么的\r\n        // this.$emit('update:attitude', status)// 方法3\r\n        this.$emit('attitude', status) // 方法2\r\n      } catch (error) {\r\n        this.$toast('操作失败，请重试')\r\n      }\r\n      setTimeout(() => {\r\n        this.btnLoading = false // 请求执行后关闭\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.collected{\r\n  color:#fa5000\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./like-article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./like-article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./like-article.vue?vue&type=template&id=78252548&scoped=true&\"\nimport script from \"./like-article.vue?vue&type=script&lang=js&\"\nexport * from \"./like-article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./like-article.vue?vue&type=style&index=0&id=78252548&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78252548\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-list\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"error\":_vm.error,\"error-text\":\"请求失败，点击重新加载\"},on:{\"update:error\":function($event){_vm.error=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(commentItem,index){return _c('CommentItem',{key:index,attrs:{\"comment\":commentItem},on:{\"reply-click\":_vm.onReplyClick}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-cell',{staticClass:\"comment-item\",attrs:{\"title\":_vm.comment.content},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('van-image',{staticClass:\"avatar\",attrs:{\"round\":\"\",\"fit\":\"cover\",\"src\":_vm.comment.aut_photo}})]},proxy:true},{key:\"title\",fn:function(){return [_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.comment.aut_name))])]},proxy:true},{key:\"label\",fn:function(){return [_c('p',{staticClass:\"comment-content\"},[_vm._v(_vm._s(_vm.comment.content))]),_c('div',{staticClass:\"bottom-info\"},[_c('div',{staticClass:\"publish-data\"},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.comment.pubdate)))]),_c('van-button',{staticClass:\"reply-btn\",attrs:{\"round\":\"\"},on:{\"click\":function($event){return _vm.$emit('reply-click',_vm.comment)}}},[_vm._v(\"回复\"+_vm._s(_vm.comment.reply_count))])],1)]},proxy:true},{key:\"right-icon\",fn:function(){return [_c('van-button',{staticClass:\"like-btn\",class:{like:_vm.comment.is_liking},attrs:{\"icon\":_vm.comment.is_liking ? 'good-job' : 'good-job-o',\"loading\":_vm.btnLoading},on:{\"click\":_vm.onCommentLick}},[_vm._v(\" \"+_vm._s(_vm.comment.like_count || \"赞\")+\" \")])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-cell :title=\"comment.content\" class=\"comment-item\">\r\n<!-- 用户头像 -->\r\n    <template #icon >\r\n      <van-image class=\"avatar\" round fit=\"cover\"\r\n        :src=\"comment.aut_photo\"\r\n      />\r\n      </template>\r\n\r\n    <!-- 用户名 -->\r\n  <template #title>\r\n    <div class=\"user-name\">{{ comment.aut_name}}</div>\r\n  </template>\r\n\r\n   <!-- 回复 -->\r\n  <template #label>\r\n    <p class=\"comment-content\">{{comment.content}}</p>\r\n    <div class=\"bottom-info\">\r\n    <div class=\"publish-data\">{{comment.pubdate|relativeTime}}</div>\r\n    <van-button class=\"reply-btn\" round @click=\"$emit('reply-click',comment)\">回复{{ comment.reply_count}}</van-button>\r\n  </div>\r\n  </template>\r\n\r\n<!-- 使用right-icon 插槽来定义点赞 -->\r\n<template #right-icon>\r\n    <van-button\r\n     class=\"like-btn\" :icon=\"comment.is_liking ? 'good-job' : 'good-job-o'\"\r\n     :class=\"{like:comment.is_liking}\"\r\n     :loading = 'btnLoading'\r\n     @click='onCommentLick'\r\n     >\r\n     {{comment.like_count || \"赞\"}}\r\n     </van-button>\r\n</template>\r\n  </van-cell>\r\n</template>\r\n\r\n<script>\r\nimport { deleteCommentLickAPI, addCommentLickAPI } from '../../../api/index.js'\r\nexport default {\r\n  name: 'CommentItem',\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      btnLoading: false,\r\n      commentClone: this.comment\r\n    }\r\n  },\r\n  methods: {\r\n    async onCommentLick () {\r\n      this.btnLoading = true // 请求接口前开启\r\n      try {\r\n        // 通过当前的用户关注状态来判断调用那个接口\r\n        if (this.comment.is_liking) {\r\n          // 已点赞取消点赞状态\r\n          await deleteCommentLickAPI(this.comment.com_id)\r\n          this.commentClone.like_count--\r\n        } else {\r\n          // 未点赞状态进行点赞\r\n          await addCommentLickAPI(this.comment.com_id)\r\n          this.commentClone.like_count++\r\n        }\r\n        // 主动的将状态取反\r\n        // 'update:attitude'固定的不能加空格什么的\r\n        this.commentClone.is_liking = !this.comment.is_liking\r\n      } catch (error) {\r\n        this.$toast('操作失败，请重试')\r\n      }\r\n      setTimeout(() => {\r\n        this.btnLoading = false // 请求执行后关闭\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-item{\r\n   .avatar{\r\n     width: 70px;\r\n     height: 70px;\r\n     margin-top: 26px;\r\n     }\r\n   .user-name{\r\n     color:#406599;\r\n     font-size: 26px;\r\n    }\r\n    .comment-content{\r\n      font-size: 32px;\r\n      color:#222;\r\n      word-break:break-all;\r\n      text-align: justify;\r\n    }\r\n  .bottom-info{\r\n    display:flex;\r\n    align-items: center;\r\n\r\n    .publish-data{\r\n    font-size: 20px;\r\n    color:#222;\r\n    margin-right: 26px;\r\n      }\r\n    .reply-btn{\r\n      width: 140px;\r\n      height: 48px;\r\n      font-size: 24px;\r\n      color:#222\r\n      }\r\n  }\r\n    .like-btn{\r\n      border: none;\r\n      height: 30px;\r\n      padding: 0;\r\n      font-size: 20px;\r\n      margin-right: 10px;\r\n      }\r\n      .like{\r\n        color:#e56e56;\r\n      }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment-item.vue?vue&type=template&id=fa960f20&scoped=true&\"\nimport script from \"./comment-item.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment-item.vue?vue&type=style&index=0&id=fa960f20&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa960f20\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<!-- 文章评论 -->\r\n  <div class=\"comment-list\">\r\n  <van-list\r\n  v-model=\"loading\"\r\n  :finished=\"finished\"\r\n  finished-text=\"没有更多了\"\r\n  :error.sync=\"error\"\r\n  error-text=\"请求失败，点击重新加载\"\r\n  @load=\"onLoad\"\r\n>\r\n <!--  <van-cell v-for=\"(item,index) in list\" :key=\"index\" :title=\"item.content\" /> -->\r\n <CommentItem v-for=\"(commentItem,index) in list\" :key=\"index\" :comment=\"commentItem\" @reply-click='onReplyClick'></CommentItem>\r\n</van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommentItem from './comment-item.vue'\r\nimport { getCommentsAPI } from '../../../api/index.js'\r\nexport default {\r\n  name: 'CommentList',\r\n  components: {\r\n    CommentItem\r\n  },\r\n  props: {\r\n    targetId: { // 父组件传入的id ---可能是文字id也可能是评论id\r\n      type: String,\r\n      default: ''\r\n    },\r\n    totalCount: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'a'// 此处默认为a的原因是以前type为a，选择有个新的变量c,那么我们就要默认为a\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      list: [],\r\n      loading: false,\r\n      error: false,\r\n      finished: false,\r\n      offset: null// 请求下一页的页码，默认为null\r\n      // totalCount: 0 // 总数据条数\r\n    }\r\n  },\r\n  methods: {\r\n    onReplyClick (event) {\r\n      // 此处的event相当于传过来的comment\r\n      this.$emit('reply-click', event)\r\n    },\r\n    async onLoad () {\r\n      try {\r\n        // 1.请求数据\r\n        const { data: res } = await getCommentsAPI({\r\n          type: this.type,\r\n          source: this.targetId, // 原id\r\n          offset: this.offset,\r\n          limit: 10 // 每页数量\r\n        })\r\n        // 2.将数据添加到列表中\r\n        this.list.push(...res.data.results)\r\n        // 更新总数据条数（统计评论数量需要要到）\r\n        // this.totalCount = res.data.total_count\r\n        this.$emit('update:totalCount', res.data.total_count)\r\n        // 3.将加载状态loading改回false\r\n        this.loading = false\r\n        // 4.判断是否有后续数据，对finnished做一些操作\r\n        if (res.data.results.length) {\r\n          // 如果results中有值，那么获取下一页的偏移量\r\n          this.offset = res.data.last_id\r\n        } else {\r\n          // 如果result中没有数据则关闭加载\r\n          this.finished = true\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n        this.error = true\r\n        this.loading = false\r\n      }\r\n    },\r\n    // 将新的评论添加到评论数组的最顶端\r\n    unshiftComment (item) {\r\n      this.list.unshift(item.new_obj)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment-list.vue?vue&type=template&id=203529e8&scoped=true&\"\nimport script from \"./comment-list.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"203529e8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-post\"},[_c('van-field',{staticClass:\"post-field\",attrs:{\"rows\":\"2\",\"autosize\":\"\",\"type\":\"textarea\",\"maxlength\":\"50\",\"placeholder\":\"优质评论将会优先显示哟！\",\"show-word-limit\":\"\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"message\"}}),_c('van-button',{staticClass:\"post-btn\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.onAddComment,\"disabled\":function($event){!_vm.message.length}}},[_vm._v(\"发布\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-post\">\r\n    <van-field\r\n  class=\"post-field\"\r\n  v-model.trim=\"message\"\r\n  rows=\"2\"\r\n  autosize\r\n  type=\"textarea\"\r\n  maxlength=\"50\"\r\n  placeholder=\"优质评论将会优先显示哟！\"\r\n  show-word-limit\r\n/>\r\n<van-button class=\"post-btn\" size=\"small\"\r\n@click=\"onAddComment\" @disabled =\"!message.length\"\r\n>发布</van-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addCommentAPI } from '../../../api/index.js'\r\nexport default {\r\n  name: 'CommentPost',\r\n  props: {\r\n    targetId: { // 文字id或评论回复id\r\n      type: String,\r\n      default: ''\r\n    },\r\n    articleId: { // 如果是回复评论，则需要传文字id进来\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      message: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async onAddComment () {\r\n      try {\r\n        const messageTemp = this.message.trim()\r\n        // 非空判断\r\n        if (!messageTemp.length) return\r\n        const { data: res } = await addCommentAPI({\r\n          target: this.targetId, // 文字id或评论回复id\r\n          content: this.message, // 评论内容\r\n          art_id: this.articleId || null // 若target是评论id时，该属性为文字id\r\n        })\r\n        console.log(res)\r\n        // 发布成功后，清空输入框内容\r\n        this.message = ''\r\n        // 发布成功后传递一个事件给父组件，让父组件关闭弹出层\r\n        this.$emit('post-success', res.data)\r\n        this.$toast.success('发布成功')\r\n      } catch (error) {\r\n        this.$toast.fail('发布失败')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-post{\r\n     display: flex;\r\n     align-items: center;\r\n     padding:32px 0 32px 32px;\r\n\r\n    .post-field{\r\n     background-color: #f5f6f7;\r\n     }\r\n\r\n    .post-btn{\r\n      width: 150px;\r\n      border:none;\r\n      padding:0;\r\n      color:#6ba3d8\r\n     }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-post.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment-post.vue?vue&type=template&id=799a9e5c&scoped=true&\"\nimport script from \"./comment-post.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment-post.vue?vue&type=style&index=0&id=799a9e5c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"799a9e5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-reply\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.comment.reply_count > 0 ? `${_vm.comment.reply_count}条回复`:'暂无回复',\"fixed\":\"\",\"left-arrow\":\"\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"cross\"},on:{\"click\":function($event){return _vm.$emit('close')}}})]},proxy:true}])}),_c('div',{staticClass:\"scroll-wrap\"},[_c('CommentItem',{attrs:{\"comment\":_vm.comment}}),_c('van-cell',[_c('commentList',{ref:\"comment-list\",attrs:{\"targetId\":_vm.comment.com_id,\"type\":\"c\"}})],1)],1),_c('div',{staticClass:\"reply-bottom\"},[_c('van-button',{staticClass:\"reply-btn\",attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.isPostShow=true}}},[_vm._v(\" 写评论\")]),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.isPostShow),callback:function ($$v) {_vm.isPostShow=$$v},expression:\"isPostShow\"}},[_c('CommentPost',{attrs:{\"targetId\":_vm.comment.com_id,\"articleId\":_vm.$route.params.articleId},on:{\"post-success\":_vm.onPostSuccess}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"comment-reply\">\r\n <van-nav-bar  :title=\"comment.reply_count > 0 ? `${comment.reply_count}条回复`:'暂无回复'\" fixed left-arrow>\r\n    <template #left>\r\n       <van-icon name=\"cross\" @click=\"$emit('close')\"></van-icon>\r\n    </template>\r\n </van-nav-bar>\r\n    <!-- 内容区域 -->\r\n    <div class=\"scroll-wrap\">\r\n    <!-- 文章详情评论 -->\r\n    <CommentItem :comment=\"comment\"></CommentItem>\r\n\r\n    <!-- 评论回复区域 -->\r\n    <van-cell>\r\n      <commentList :targetId='comment.com_id' type=\"c\" ref=\"comment-list\"></commentList>\r\n    </van-cell>\r\n    </div>\r\n    <!-- 底部评论 -->\r\n    <div class=\"reply-bottom\">\r\n      <van-button class=\"reply-btn\"\r\n      round size=\"small\" @click=\"isPostShow=true\">\r\n      写评论</van-button>\r\n  <van-popup v-model=\"isPostShow\" position=\"bottom\">\r\n  <CommentPost :targetId=\"comment.com_id\" @post-success=\"onPostSuccess\"\r\n   :articleId=\"$route.params.articleId\"></CommentPost>\r\n  </van-popup>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CommentItem from './comment-item.vue'\r\nimport commentList from './comment-list.vue'\r\nimport CommentPost from './comment-post.vue'\r\nexport default {\r\n  name: 'CommentReply',\r\n  components: {\r\n    CommentItem,\r\n    commentList,\r\n    CommentPost\r\n  },\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      commentClone: this.comment,\r\n      isPostShow: false // 写评论弹出层状态\r\n    }\r\n  },\r\n  methods: {\r\n    // 文章评论弹出层关闭操作\r\n    onPostSuccess (item) {\r\n      // 更新回复数量\r\n      this.commentClone.reply_count++\r\n      // 关闭评论弹出层\r\n      this.isPostShow = false\r\n      // 通过ref去调用commit-list的方法将新的评论添加到列表的最顶端\r\n      this.$refs['comment-list'].unshiftComment(item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-reply{\r\n   .van-nav-bar{\r\n      background-color: #fff;\r\n     :deep(.van-nav-bar__title){\r\n         color:#000;\r\n        }\r\n      .van-icon{\r\n         color:#3296fa;\r\n        }\r\n     }\r\n  .scroll-wrap{\r\n    padding-top: 92px;\r\n    padding-bottom: 88px;\r\n    overflow-y: auto;\r\n    background-color: #fff;\r\n   }\r\n   .reply-bottom{\r\n     position:fixed;\r\n      right: 0;\r\n      bottom: 0;\r\n      left: 0;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      height: 88px;\r\n      border-top: 1px solid #d8d8d8;\r\n      background-color: #fff;\r\n   }\r\n   .reply-btn{\r\n     font-size: 28px;\r\n     width: 500px;\r\n     height: 60px;\r\n     line-height: 46px;\r\n     border: 2px solid #eee;\r\n     color:#a7a7a7\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-reply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-reply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment-reply.vue?vue&type=template&id=5c949518&scoped=true&\"\nimport script from \"./comment-reply.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-reply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment-reply.vue?vue&type=style&index=0&id=5c949518&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c949518\",\n  null\n  \n)\n\nexport default component.exports","<!-- eslint-disable vue/valid-v-else-if -->\r\n<template>\r\n  <div class=\"article-container\">\r\n    <!-- 文章详情标题 -->\r\n    <!-- fixed将头部导航脱离文档固定到最顶端 -->\r\n <van-nav-bar\r\n  title=\"黑马头条\"\r\n  left-arrow fixed\r\n  @click-left=\"$router.back()\"\r\n/>\r\n<!-- 正文滚动区域 -->\r\n<div class=\"main-wrap\" >\r\n  <!-- 加载中 -->\r\n  <div class=\"loading-wrap\" v-if=\"loading\">\r\n<van-loading color=\"#1989fa\" vertical >加载中...</van-loading>\r\n  </div>\r\n\r\n<!-- 文章详情部分 -->\r\n<div class=\"article-detail\" v-else-if=\"article.title\">\r\n  <!-- 文章标题 -->\r\n  <h1 class=\"article-title\">{{article.title}}</h1>\r\n\r\n <!-- 用户信息 -->\r\n <van-cell class=\"user-info\">\r\n   <!-- 用户头像 -->\r\n    <template #icon >\r\n      <van-image class=\"avatar\" round fit=\"cover\"\r\n        :src=\"article.aut_photo\"\r\n      />\r\n      </template>\r\n\r\n    <!-- 用户名 -->\r\n  <template #title>\r\n    <div class=\"user-name\">{{ article.aut_name}}</div>\r\n  </template>\r\n\r\n   <!-- 相对时间 -->\r\n  <template #label>\r\n    <div class=\"publish-date\">{{ article.pubdata | relativeTime}}</div>\r\n  </template>\r\n\r\n<!-- 使用right-icon 插槽来定义右侧图标 -->\r\n<template #right-icon>\r\n <!--  <van-button class=\"follow-btn\" round type=\"info\"\r\n   size=\"small\" icon=\"plus\" v-if=\"!article.is_followed\"\r\n   @click=\"onFollow\" :loading=\"btnLoading\"\r\n  >关注</van-button>\r\n  <van-button class=\"follow-btn\" round type=\"info\" size=\"small\"\r\n   icon=\"plus\" v-else\r\n   @click=\"onFollow\" :loading=\"btnLoading\">已关注</van-button> -->\r\n   <!-- 关注用户方法3写法 -->\r\n<!-- <FollowUse :isFollowed.sync=\"article.is_followed\"\r\n:userId=\"article.aut_id\"\r\n></FollowUse> -->\r\n<!-- 关注用户方法2写法 -->\r\n<FollowUse v-model=\"article.is_followed\"\r\n:userId=\"article.aut_id\"\r\n></FollowUse>\r\n</template>\r\n</van-cell>\r\n\r\n<!-- 文章内容 -->\r\n<div ref=\"article-content\" class=\"article-content markdown-body\" v-html=\"article.content\" ></div>\r\n<van-divider>正文结束</van-divider>\r\n<!-- 文章评论 -->\r\n<!-- 使用articleId而不是article.art_id的原因是article需要通过接口来获取数据\r\n     但是刚进入页码时就触发了comment-list组件中的onload方法，此时没有article.art_id存在所以请求不到内容 -->\r\n   <CommentList :targetId='articleId' ref=\"comment-list\"\r\n   :totalCount.sync='totalCommentCount' @reply-click=\"onReplyClick\"></CommentList>\r\n</div>\r\n\r\n<!-- 文章详情部分结束  -->\r\n\r\n<!-- 加载失败---资源不存在 -->\r\n<div class=\"error-wrap\" v-else-if=\"errStatus===404\">\r\n  <van-icon name=\"failure\" />\r\n  <p class=\"text\">该资源不存在或已被删除!</p>\r\n</div>\r\n\r\n<!-- 加载失败---其他内容可点击重试 -->\r\n<div class=\"error-wrap\" v-else>\r\n  <van-icon name=\"failure\" />\r\n  <p class=\"text\">内容加载失败</p>\r\n  <van-button class=\"retry-btn\">点击重试</van-button>\r\n   </div>\r\n  </div>\r\n  <!-- 正文滚动结束 -->\r\n\r\n  <!-- 底部区域 -->\r\n  <div class=\"article-bottom\">\r\n    <van-button class=\"comment-btn\" round size=\"small\" icon=\"plus\"\r\n    @click=\"isPostShow=true\">写评论</van-button>\r\n    <!-- 评论条数 -->\r\n    <van-icon name=\"comment-o\" :badge=\"totalCommentCount\" />\r\n    <!-- 收藏 -->\r\n    <!-- 方法2 -->\r\n    <!-- <collectArtricle\r\n    :articleId=\"article.art_id\" v-model=\"article.is_collected\"\r\n   ></collectArtricle> -->\r\n   <!-- 方法3 -->\r\n    <collectArtricle\r\n    :articleId=\"article.art_id\" :collect.sync=\"article.is_collected\"\r\n   ></collectArtricle>\r\n\r\n    <!-- 点赞 -->\r\n    <!-- 使用.sync实现数据传递 （方法3）-->\r\n    <!-- <LikeArtricle\r\n    :articleId=\"article.art_id\" :attitude.sync=\"article.attitude\"></LikeArtricle> -->\r\n    <!-- 方法2 -->\r\n    <LikeArtricle\r\n    :articleId=\"article.art_id\" v-model=\"article.attitude\"></LikeArtricle>\r\n\r\n    <!-- 转发 -->\r\n    <van-icon name=\"share\" />\r\n  </div>\r\n  <!-- 文章评论 -->\r\n  <van-popup v-model=\"isPostShow\" position=\"bottom\">\r\n  <CommentPost :targetId=\"article.aut_id\" @post-success=\"onPostSuccess\"></CommentPost>\r\n  </van-popup>\r\n  <!-- 评论详情，回复评论及查看回复列表 -->\r\n<van-popup v-model=\"isReplyShow\" position=\"bottom\" :style=\"{ height: '100%' }\">\r\n    <!-- 在切换不同的评论弹出层是，发现文章评论详情发生了变化，但是评论回复列表     区域还是上一次的列表。\r\n     van-popup弹出层组件，v-model的特点：初始状态下v-model状态为false弹出层内容不渲染，当v-model变成true时，弹出层渲染数据。当在次关闭弹出层时，只是对css进行了控制和隐藏\r\n     -->\r\n     <!-- 解决方法：我们需要给评论回复弹出层添加yigev-if，来保证弹出层关闭时，能够清除内部的dom元素。保证下次打开时能够正确渲染 -->\r\n  <CommentReply :comment=\"currentComment\" @close=\"isReplyShow = false\" v-if=\"isReplyShow\"></CommentReply>\r\n  </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getArticleByIdAPI } from '../../api/index.js'\r\nimport FollowUse from '../../components/follow-user.vue'\r\nimport collectArtricle from '../../components/collect-artricle.vue'\r\nimport LikeArtricle from '../../components/like-article.vue'\r\nimport CommentList from './components/comment-list.vue'\r\nimport CommentPost from './components/comment-post.vue'\r\nimport CommentReply from './components/comment-reply.vue'\r\nimport { ImagePreview } from 'vant'\r\nexport default {\r\n  name: 'ArticleIndex',\r\n  components: {\r\n    FollowUse,\r\n    collectArtricle,\r\n    LikeArtricle,\r\n    CommentList,\r\n    CommentPost,\r\n    CommentReply\r\n  },\r\n\r\n  /*\r\n在vue项目中，往往会涉及到多层组件的嵌套传参，或者是一个参数需要传递给多个组件\r\n vue提供了一种父组件传递给它所包含的所有子组件（后代组件）的方式\r\n provide 一个函数（方法）父组件通过该函数将数据发送\r\n inject 在子组件中，作为一个属性（该属性的写法与props完全相同）可以接收到provide传递过来的数据\r\n\r\n 注意事项：如果provide传递的是一个引用数据类型，每个组件都可以修改它堆内存中的数据，但如果对该数据进行了修改，后期很难找到修改源，所以在使用这个provide和inject进行数据传递时，一定遵守只读原则\r\n\r\n 如果不能保证使用的数据不会被修改，请使用最基本的3中传参方法\r\n  */\r\n  provide: function () {\r\n    return {\r\n      articleIdPro: this.articleId // 发送给like-ariticle组件\r\n    }\r\n  },\r\n  props: {\r\n    articleId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      article: [], // 文章详情\r\n      loading: true, // 加载中状态，页面渲染时自动开启。当接口请求完成时关闭\r\n      errStatus: 0, // 如果发生报错，通过该变量显示哪一个报错\r\n      // btnLoading: false // 关注按钮加载状态\r\n      totalCommentCount: 0, // 评论总数\r\n      isPostShow: false, // 发布评论显示状态\r\n      isReplyShow: false, // 评论回复列表状态\r\n      currentComment: {}// 当前点击的评论内容，需要传递给当前\r\n    }\r\n  },\r\n  created () {\r\n    // 获取文章详情\r\n    this.loadArticleInfo()\r\n  },\r\n  methods: {\r\n    async loadArticleInfo () {\r\n      this.loading = true // 请求前开启加载\r\n      try {\r\n        const { data: res } = await getArticleByIdAPI(this.articleId)\r\n        console.log(res)\r\n        this.article = res.data\r\n        // 请求数据成功，触发制作图片列表事件\r\n        setTimeout(() => {\r\n          this.previewImage()\r\n        }, 0)\r\n      } catch (error) {\r\n        // error.response.status 这是错误请求中的固定参数 --错误编码code\r\n        if (error.response && error.response.status === 404) {\r\n          this.errStatus = 404\r\n        }\r\n        this.$toast('获取失败')\r\n      }\r\n      // 无论是否请求成功，都需要关闭加载中\r\n      this.loading = false\r\n    },\r\n    /* 多图预览---vant组件库previewImage\r\n    */\r\n    previewImage () {\r\n    // 1.得到正文中所有的图片元素\r\n      const articleContent = this.$refs['article-content'] // 找到父元素对象\r\n      if (!articleContent) return\r\n      const images = articleContent.querySelectorAll('img')\r\n      console.log(images)// images是伪数组\r\n      // 2.创建一个只有图片路径的真数组---给ImagePreview.images属性使用\r\n      const imageList = [...images].map(img => img.src)\r\n      // 3.给每一张图片绑定打开图片预览功能的点击事件\r\n      images.forEach((img, index) => {\r\n        img.onclick = () => {\r\n          ImagePreview({\r\n            images: imageList, // 预览的图片合计，可以前后的张数\r\n            startPosition: index // 当前第一次打开的图片索引，从0开始\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 文章评论弹出层关闭操作\r\n    onPostSuccess (item) {\r\n      this.isPostShow = false\r\n      // 通过ref去调用commit-list的方法将新的评论添加到列表的最顶端\r\n      this.$refs['comment-list'].unshiftComment(item)\r\n    },\r\n    // 取关，关注用户\r\n    // async onFollow () {\r\n    //   this.btnLoading = true // 请求接口前开启\r\n    //   try {\r\n    //     // 通过当前的用户关注状态来判断调用那个接口\r\n    //     if (this.article.is_followed) {\r\n    //       await deleteFollowAPI(this.article.aut_id)\r\n    //     } else {\r\n    //       await addFollowAPI(this.article.aut_id)\r\n    //     }\r\n    //     // 主动的将状态取反\r\n    //     this.article.is_followed = !this.article.is_followed\r\n    //   } catch (error) {\r\n    //     if (error.response && error.response.status === 400) {\r\n    //       this.$toast('你不能关注你自己')\r\n    //     } else {\r\n    //       this.$toast('操作失败，请重试')\r\n    //     }\r\n    //   }\r\n    //   setTimeout(() => {\r\n    //     this.btnLoading = false // 请求执行后关闭\r\n    //   }, 1000)\r\n    // }\r\n    // 开启评论回复弹出层\r\n    onReplyClick (comment) {\r\n      this.currentComment = comment || {}\r\n      this.isReplyShow = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"./css/github-markdown.css\";\r\n\r\n.article-container{\r\n  .main-wrap{\r\n    padding-top: 92px;\r\n    padding-bottom: 88px;\r\n    overflow-y: auto;\r\n    background-color: #fff;\r\n  }\r\n  // 加载中样式\r\n  .loading-wrap{\r\n    padding: 200px 32px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  // 正文部分\r\n  .article-detail{\r\n    .article-title{\r\n      font-size: 40px;\r\n      padding: 50px 32px;\r\n      margin: 0;\r\n      color:#3a3a3a;\r\n    }\r\n\r\n    .user-info{\r\n      padding: 0 35px;\r\n\r\n      .avatar{\r\n        width: 70px;\r\n        height: 70px;\r\n        margin-left: 15px;\r\n      }\r\n      .user-name{\r\n        font-size: 24px;\r\n        color:#3a3a3a;\r\n      }\r\n      .van-cell__label{\r\n        margin: 0;\r\n        .publish-date{\r\n          font-size: 24px;\r\n          color:#b7b7b7\r\n        }\r\n      }\r\n      .follow-btn{\r\n        width: 180px;\r\n        height: 58px;\r\n      }\r\n    }\r\n    .article-content{\r\n        padding: 50px 32px;\r\n      }\r\n  }\r\n  .error-wrap{\r\n    padding: 200px 32px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n\r\n    .van-icon{\r\n      font-size: 130px;\r\n      color:#b4b4b4;\r\n    }\r\n\r\n    .text{\r\n      font-size: 34px;\r\n      color: #666;\r\n      margin: 32px 0 64px;\r\n    }\r\n\r\n    .retry-btn{\r\n      width: 280px;\r\n      height: 70px;\r\n      line-height: 70px;\r\n      border:1px solid #c3c3c3;\r\n      font-size:34px;\r\n      color: #666;\r\n       }\r\n    }\r\n     // 底部区域样式\r\n  .article-bottom{\r\n      position:fixed;\r\n      right: 0;\r\n      bottom: 0;\r\n      left: 0;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      height: 88px;\r\n      border-top: 1px solid #d8d8d8;\r\n      background-color: #fff;\r\n\r\n      .comment-btn{\r\n        width: 280px;\r\n        height: 46px;\r\n        line-height: 46px;\r\n        border: 2px solid #eee;\r\n        color:#a7a7a7\r\n      }\r\n      .van-icon{\r\n        font-size: 40px;\r\n        .van-ifon{\r\n          font-size: 16px;\r\n          background-color: #e22829;\r\n        }\r\n      }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article.vue?vue&type=template&id=2ef71b64&scoped=true&\"\nimport script from \"./article.vue?vue&type=script&lang=js&\"\nexport * from \"./article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article.vue?vue&type=style&index=0&id=2ef71b64&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ef71b64\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","loading","_v","article","title","_s","scopedSlots","_u","key","fn","aut_photo","proxy","aut_name","_f","pubdata","aut_id","model","value","is_followed","callback","$$v","$set","expression","ref","domProps","content","articleId","totalCommentCount","onReplyClick","errStatus","isPostShow","art_id","is_collected","attitude","onPostSuccess","style","height","isReplyShow","currentComment","_e","staticRenderFns","isFollowed","btnLoading","onFollow","name","prop","event","props","type","default","userId","data","methods","setTimeout","component","class","collected","collect","onCollect","inject","articleIdPro","mounted","console","status","finished","error","onLoad","_l","list","commentItem","index","comment","pubdate","$emit","reply_count","like","is_liking","onCommentLick","like_count","commentClone","components","CommentItem","targetId","totalCount","offset","source","limit","unshiftComment","message","trim","onAddComment","length","target","com_id","$route","params","commentList","CommentPost","FollowUse","collectArtricle","LikeArtricle","CommentList","CommentReply","provide","created","previewImage","images","img","ImagePreview","startPosition"],"sourceRoot":""}